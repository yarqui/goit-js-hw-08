{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-video.js"],"sourcesContent":["import Player from '@vimeo/player';\nimport throttle from 'lodash.throttle';\n\nconst LS_KEYS = {\n  currentTime: 'videoplayer-current-time',\n};\n\nconst iframe = document.querySelector('iframe');\nconst player = new Player(iframe, { id: 'vimeo-player' });\n\nconst readFromLS = key => {\n  try {\n    return JSON.parse(localStorage.getItem(key));\n  } catch (error) {\n    throw new Error(error.message);\n  }\n};\n\nconst writeToLS = (key, value) => {\n  return localStorage.setItem(key, JSON.stringify(value));\n};\n\nplayer.on(\n  'timeupdate',\n  throttle(e => {\n    writeToLS(LS_KEYS.currentTime, e.seconds);\n  }, 1000)\n);\n\nplayer.setCurrentTime(readFromLS(LS_KEYS.currentTime) ?? 0);\n"],"names":["LS_KEYS","iframe","player","Player","readFromLS","key","error","writeToLS","value","throttle"],"mappings":"+IAGA,MAAMA,EAAU,CACd,YAAa,0BACf,EAEMC,EAAS,SAAS,cAAc,QAAQ,EACxCC,EAAS,IAAIC,EAAOF,EAAQ,CAAE,GAAI,cAAc,CAAE,EAElDG,EAAaC,GAAO,CACxB,GAAI,CACF,OAAO,KAAK,MAAM,aAAa,QAAQA,CAAG,CAAC,CAC5C,OAAQC,EAAP,CACA,MAAM,IAAI,MAAMA,EAAM,OAAO,CAC9B,CACH,EAEMC,EAAY,CAACF,EAAKG,IACf,aAAa,QAAQH,EAAK,KAAK,UAAUG,CAAK,CAAC,EAGxDN,EAAO,GACL,aACAO,EAAS,GAAK,CACZF,EAAUP,EAAQ,YAAa,EAAE,OAAO,CACzC,EAAE,GAAI,CACT,EAEAE,EAAO,eAAeE,EAAWJ,EAAQ,WAAW,GAAK,CAAC"}